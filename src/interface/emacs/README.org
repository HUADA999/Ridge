* Ridge Emacs ðŸ¦…
  [[https://stable.melpa.org/#/ridge][file:https://stable.melpa.org/packages/ridge-badge.svg]] [[https://melpa.org/#/ridge][file:https://melpa.org/packages/ridge-badge.svg]] [[https://github.com/debanjum/ridge/actions/workflows/build_ridge_el.yml][https://github.com/debanjum/ridge/actions/workflows/build_ridge_el.yml/badge.svg?]]  [[https://github.com/debanjum/ridge/actions/workflows/test_ridge_el.yml][https://github.com/debanjum/ridge/actions/workflows/test_ridge_el.yml/badge.svg?]]

  /Natural, Incremental Search for your Second Brain/

** Table of Contents
  - [[https://github.com/debanjum/ridge/tree/master/src/interface/emacs#features][Features]]
  - [[https://github.com/debanjum/ridge/tree/master/src/interface/emacs#Interface][Interface]]
  - [[https://github.com/debanjum/ridge/tree/master/src/interface/emacs#Setup][Setup]]
    - [[https://github.com/debanjum/ridge/tree/master/src/interface/emacs#1-Setup-Backend][Setup Backend]]
    - [[https://github.com/debanjum/ridge/tree/master/src/interface/emacs#2-Install-Ridgeel][Install Ridge.el]]
  - [[https://github.com/debanjum/ridge/tree/master/src/interface/emacs#Use][Use]]
    - [[https://github.com/debanjum/ridge/tree/master/src/interface/emacs#Search][Search]]
    - [[https://github.com/debanjum/ridge/tree/master/src/interface/emacs#Find-similar-entries][Find Similar Entries]]
    - [[https://github.com/debanjum/ridge/tree/master/src/interface/emacs#Advanced-usage][Advanced Usage]]
    - [[https://github.com/debanjum/ridge/tree/master/src/interface/emacs#Ridge-menu][Ridge Menu]]
  - [[https://github.com/debanjum/ridge/tree/master/src/interface/emacs#Upgrade][Upgrade]]
    - [[https://github.com/debanjum/ridge/tree/master/src/interface/emacs#Upgrade-Ridge-Backend][Upgrade Backend]]
    - [[https://github.com/debanjum/ridge/tree/master/src/interface/emacs#Upgrade-Ridgeel][Upgrade Ridge.el]]

** Features
  - *Natural*: Advanced natural language understanding using Transformer based ML Models
  - *Local*: Your personal data stays local. All search, indexing is done on your machine*
  - *Incremental*: Incremental search for a fast, search-as-you-type experience

** Interface
  [[/docs/ridge_on_emacs.png]]

** Setup
/Make sure [[https://realpython.com/installing-python/][python]] (version 3.10 or lower) and [[https://pip.pypa.io/en/stable/installation/][pip]] are installed on your machine/

*** 1. Setup Backend
  #+begin_src shell
    pip install ridge-assistant && ridge
  #+end_src

*** 2. Install Ridge.el
**** Using MELPA
  #+begin_src elisp
    M-x package-install ridge
  #+end_src elisp

  Add below snippet to your Emacs config file
  #+begin_src elisp
    ;; Install Ridge Package from MELPA Stable
    (use-package ridge
      :ensure t
      :pin melpa-stable
      :bind ("C-c s" . 'ridge))
  #+end_src

  Note: Install ~ridge.el~ from MELPA (instead of MELPA Stable) if you installed the pre-release version of ridge
  - That is, use ~:pin melpa~ to install ridge.el in above snippet if ridge was installed with ~pip install --pre ridge-assistant~
  - Else use ~:pin melpa-stable~ to install ridge.el in above snippet if ridge was installed with ~pip install ridge-assistant~
  - This ensures both ridge.el and ridge app are from the same version (tagged or latest)

**** Using [[https://github.com/raxod502/straight.el][Straight.el]]
  Add below snippet to your Emacs config file
  #+begin_src elisp
    ;; Install Ridge Package using Straight.el
    (use-package ridge
      :after org
      :straight (ridge :type git :host github :repo "debanjum/ridge" :files (:defaults "src/interface/emacs/ridge.el"))
      :bind ("C-c s" . 'ridge))
  #+end_src

** Use
*** Search
  1. Hit ~C-c s s~ (or ~M-x ridge RET s~) to open ridge search

  2. Enter your query in natural language

    e.g "What is the meaning of life?", "My life goals for 2023"

*** Find Similar Entries
  This feature finds entries similar to the one you are currently on.
  1. Move cursor to the org-mode entry, markdown section or text paragraph you want to find similar entries for
  2. Hit ~C-c s f~ (or ~M-x ridge RET f~) to find similar entries

*** Advanced Usage
  - Add [[https://github.com/debanjum/ridge/#query-filters][query filters]] during search to narrow down results further

    e.g `What is the meaning of life? -"god" +"none" dt>"last week"`

  - Use ~C-c C-o 2~ to open the current result at cursor in its source org file

    - This calls ~M-x org-open-at-point~ on the current entry and opens the second link in the entry.
    - The second link is the entries [[https://orgmode.org/manual/Handling-Links.html#FOOT28][org-id]], if set, or the heading text.
      The first link is the line number of the entry in the source file. This link is less robust to file changes.
    - Note: If you have [[https://orgmode.org/manual/Speed-Keys.html][speed keys]] enabled, ~o 2~ will also work

*** Ridge Menu
  [[/docs/ridge_emacs_menu.png]]
  Hit ~C-c s~ (or ~M-x ridge~) to open the ridge menu above. Then:
  - Hit ~t~ until you preferred content type is selected in the ridge menu

    ~Content Type~ specifies the content to perform ~Search~, ~Update~ or ~Find Similar~ actions on
  - Hit ~n~ twice and then enter number of results you want to see

    ~Results Count~ is used by the ~Search~ and ~Find Similar~ actions
  - Hit ~-f u~ to ~force~ update the ridge content index

    The ~Force Update~ switch is only used by the ~Update~ action

** Upgrade
*** Upgrade Ridge Backend
  #+begin_src shell
    pip install --upgrade ridge-assistant
  #+end_src

*** Upgrade Ridge.el
  Use your Emacs package manager to upgrade ~ridge.el~

  - For ~ridge.el~ from MELPA
    - Method 1
      - Run ~M-x package-list-packages~ to list all packages
      - Press ~U~ on ~ridge~ to mark it for upgrade
      - Press ~x~ to execute the marked actions
    - Method 2
      - Run ~M-x package-refresh-content~
      - Run ~M-x package-reinstall ridge~

  - For ~ridge.el~ from Straight
    - Run ~M-x straight-pull-package ridge~
